(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{236:function(n){n.exports={data:{tag:{title:"events",belongsTo:{edges:[{node:{title:"Creating Event Driven Applications In The Browser",path:"/creating-event-driven-applications-in-the-browser",date:"30. June 2019",timeToRead:5,description:"Event driven JavaScript (or any other language) is really fun, find out how easy it is in the browser.",coverImage:{type:"image",mimeType:"image/jpeg",src:"/assets/static/creating-event-driven-applications-in-the-browser.07cc2b7.555de7d.jpg",size:{width:860,height:430},sizes:"(max-width: 860px) 100vw, 860px",srcset:["/assets/static/creating-event-driven-applications-in-the-browser.a67b0b2.555de7d.jpg 480w","/assets/static/creating-event-driven-applications-in-the-browser.07cc2b7.555de7d.jpg 860w"],dataUri:"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 860 430' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-23'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='10'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-23)' width='860' height='430' xlink:href='data:image/jpeg%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAgAEADASIAAhEBAxEB/8QAGgAAAgMBAQAAAAAAAAAAAAAABQYEBwgCA//EADEQAAEDAwIDBQcFAQAAAAAAAAECAwQABRESIQYxUQcTIkGBFBZxcpGhsSMzQlNhwf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDLylKVKKS4sArxkE9aaLS/cYST7PPltZ2IRg/mlZO8xGf7MfetB9nvCduultelTtalcw02cE5O55eX/aCuLXdLnb5z81ie97Q8AlxTjSV5A5bUYi8V36PdzcUTkGSttLWVxQRpTuNgoU6P8AtJcjKKnAy%2b6UEpTnR4iAM9cAZ9aIt8AxZUqDFjuLL7oClKIGgJKSdj8dvr0oKV4lmzrtKckS5JdfUnQMN92AN/LJpjvMDgv3GtcyyzZjPESO7blxHnFL704OtfLCQDjGDgg9afHOzND93lQ0OKWllJWVITuQB5DO/%2bdfWqtv8AZ3rbMdaWhaQlRGFp0n1B5fCgFocUf5K%2bpr21kDJWoD5qjI2Nerh/SJ6b/TegVArRK1HkF5%2b9aL7InhdOGZDsFbKZLatCUSRlOds7BQ8jtuKzi7%2b6v5j%2baMWbiO6WdpTdtlKZQo6lAAHJxig1Syq1SoKoinWXX0LUXGw4QWVA7KAJ5DrvQZt5KZbYgXBlZDerW0%2bBhwJGrbO2%2boYNZ59772VlZmHV10iuDxZeNWfahn5BQaMSiDKkxZEGaDKKcOLTIOVqCT4MpX4dwByFKfEqGXmLm3LQwbgyhJIclLUpBJAOM7q5g7%2buaqBHF95RjTLxjl4BUSVfp8t3vX39SztnGKAo54XCM11nKcHlQyJIU4jUs5Oamd54aD//2Q==' /%3e%3c/svg%3e"},content:'<h2 id="lets-get-to-events-eventually"><a href="#lets-get-to-events-eventually" aria-hidden="true"><span class="icon icon-link"></span></a>Let\'s Get To Events, Eventually</h2>\n<p>Event driven JavaScript (or any other language) is really fun. Creating and responding to events can make your application many times more dynamic and interactive and most packages you use already rely heavily on events. The browser already uses so many events and if you ever have to load images or other data via a XHR request then you\'ll have to use events to do that. If you\'re already pretty familiar with events you should skip down to the event types/implementations to see if there\'s anything new you can learn about events.</p>\n<h2 id="how-does-event-driven-programming-work"><a href="#how-does-event-driven-programming-work" aria-hidden="true"><span class="icon icon-link"></span></a>How Does Event Driven Programming Work?</h2>\n<p>As an example of a simple event driven program, let\'s create a simple chat bot that watches for the user\'s message and responds with \'Hello to you too!\' when the user types \'Hello\'.</p>\n<p>First, we want to offer a nice GUI for our chat bot so make a simple interface.</p>\n<pre class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chat-bot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chat-bot__input<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Dont be shy<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chat-bot__submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Send<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></pre>\n<p>Nothing fancy right? Just one problem though, how do we know when the user has typed a message and pressed the Send button? This is where the event comes in handy, we need an event to let us know when a button was pressed so that we can check the contents of the message and then respond to it if necessary. This will show you an example of browser events and how easy they are to use.</p>\n<pre class="language-js"><span class="token comment">// Get a reference to our input and button so that we can use them.</span>\n<span class="token keyword">const</span> botInput <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'chat-bot__input\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> botButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElemenetById</span><span class="token punctuation">(</span><span class="token string">\'chat-bot__submit\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>What we need to use now is <code class="language-text">addEventListener</code> and this is just a very short explanation you should check out the docs <a href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener" target="_blank" rel="nofollow noopener noreferrer">here</a> for more information about it. What <code class="language-text">addEventListener</code> allows us to do is to is listen to a pre-defined event on an element. I won\'t go over all of the possible events that we can hook into because we just need the one, click. The click event listener will let us know when an element has been clicked on. It seems pretty obvious for buttons but the click event can be placed on anything, from a span to a div and even the entire body element. So let\'s go ahead and add the click event to our button so you can see what that looks like:</p>\n<pre class="language-js">botButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n\n  <span class="token comment">// When the button is clicked, we can get the latest input from the chat input.</span>\n  <span class="token keyword">const</span> message <span class="token operator">=</span> botInput<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>And from here the rest is a piece of cake, just check to see if the message is \'Hello\' and respond:</p>\n<pre class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>message <span class="token operator">===</span> <span class="token string">\'Hello\'</span><span class="token punctuation">)</span> botInput<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">\'Hello to you too!\'</span><span class="token punctuation">;</span></pre>\n<p>Yes we\'re just putting the respond in the same text box because this isn\'t a UX tutorial. The important part here using <code class="language-text">addEventListener</code> so that we know when the button is clicked because the input could change at any point before that. You can add as many events to an element using this method and you can even add multiple click events if you wish. Another way to accomplish this would be with the <code class="language-text">onclick</code> method but that is not recommended because it means you can only have 1 click event listener and you can\'t remove it.</p>\n<p>Speaking of removing event listeners, you can do so by not using arrow functions and naming the events but really on modern browsers it\'s not necessary to remove event listeners because they will be garbage collected automatically. Just for completeness though, here is an example of the same thing above but removing the event listener:</p>\n<pre class="language-js">botButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">botButtonClicked</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n  <span class="token comment">// When the button is clicked, we can get the latest input from the chat input.</span>\n  <span class="token keyword">const</span> message <span class="token operator">=</span> botInput<span class="token punctuation">.</span>value<span class="token punctuation">;</span>\n\n  <span class="token keyword">if</span> <span class="token punctuation">(</span>message <span class="token operator">===</span> <span class="token string">\'Hello\'</span><span class="token punctuation">)</span> botInput<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">\'Hello to you too!\'</span><span class="token punctuation">;</span>\n\n  botButton<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">\'click\'</span><span class="token punctuation">,</span> botButtonClicked<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>You can also see that the parameter to the callback of the event is an event object and you can check out the docs for the many properties you can access with it such as the location it happened on the page and the timestamp of when it happened.</p>\n<h2 id="can-i-make-my-own-listeners"><a href="#can-i-make-my-own-listeners" aria-hidden="true"><span class="icon icon-link"></span></a>Can I Make My Own Listeners?</h2>\n<p>Like I said there are quite a few native event listeners like click that are offered by default and you should check them all out but if there\'s a situation where you need a custom event that\'s not supported, you can use custom events. Let\'s say that at some point we want to emit and respond to an event named <code class="language-text">dog</code>. So to implement this, you need to create a custom event like so:</p>\n<pre class="language-js"><span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">\'dog\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> detail<span class="token punctuation">:</span> <span class="token string">\'Corgi\'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>What the above does is create a new custom event named dog that contains the information \'Corgi\'. The detail key is necessary because that\'s where your event data will be stored and retrieved from. You might need to input a lot of detail so you can always add an object of data to it instead of a string like:</p>\n<pre class="language-js"><span class="token keyword">const</span> event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CustomEvent</span><span class="token punctuation">(</span><span class="token string">\'dog\'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> detail<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  breed<span class="token punctuation">:</span> <span class="token string">\'corgi\'</span><span class="token punctuation">,</span>\n  age<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>\n  location<span class="token punctuation">:</span> <span class="token string">\'Hollywood\'</span>\n<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>and of course just like before there is no use in creating an event if we\'re not going to respond to it. Let\'s aww at the corgi when he appears:</p>\n<pre class="language-js">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">\'dog\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`Aww what a cute </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>event<span class="token punctuation">.</span>detail<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>and now we just have to emit the event. One big difference between normal events such as click and custom events such as our dog one is that the normal ones are usually triggered not by you but by the user or the browser while custom events have to be triggered by you since the browser doesn\'t exactly know what they are. To trigger our dog event we can do:</p>\n<pre class="language-js">window<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span><span class="token string">\'dog\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre>\n<p>which will lead to the console displaying "Aww what a cute corgi!".</p>\n<p><strong>Note:</strong> Notice that we have the event attached to the <code class="language-text">window</code> object. Events have to be attached to an EventTarget and if there is no specific element you need to use for the EventTarget you can always use the window object.</p>\n<h2 id="what-about-node"><a href="#what-about-node" aria-hidden="true"><span class="icon icon-link"></span></a>What About Node?</h2>\n<p>Well I\'m glad you asked because Node events very robust and they\'re supported natively so you don\'t need to download anything from NPM. Unfortuantely they are out of scope for this article but I plan on releasing the Node version within a week and I will update this to point to that post whenever it goes up.</p>\n'}}]}}}}}}]);